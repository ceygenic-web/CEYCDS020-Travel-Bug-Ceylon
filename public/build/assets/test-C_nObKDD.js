import{j as e,r as x}from"./app-Cdmo_d00.js";import{b as p,c as b,d as v,a as w}from"./api-BGUpZDB6.js";import"./index-DSKZDLSw.js";import"./index-DXul0gwE.js";import"./config-CcMCiyZX.js";const N=({data:t})=>{var u,m;const{name:r="Untitled Product",brand:s,primary_image_url:a,price:o=0,final_price:c=0,discount_value:M=0,categories:n}=t||{},l=c>0&&c<o,h=l?c:o,i=l?o:null,f=n&&n.length>0?n[0].name:"Uncategorized",g=(s==null?void 0:s.name)||"Generic Brand",d=a||"https://via.placeholder.com/800x800/f0f0f0/333333?text=No+Image",j=((m=(u=t==null?void 0:t.images)==null?void 0:u[0])==null?void 0:m.alt_text)||`Image of ${r}`;return e.jsxs("div",{className:"group relative flex w-full max-w-xs flex-col overflow-hidden rounded-lg border border-gray-100 bg-white shadow-md transition-transform duration-300 ease-in-out hover:-translate-y-1 hover:shadow-xl",children:[e.jsxs("div",{className:"relative mx-3 mt-3 flex h-60 overflow-hidden rounded-xl",children:[e.jsx("img",{className:"peer absolute top-0 right-0 h-full w-full object-cover",src:d,alt:j}),e.jsx("img",{className:"peer absolute top-0 -right-96 h-full w-full object-cover transition-all delay-100 duration-1000 peer-hover:right-0 hover:right-0",src:d.replace("A9A9A9","a2c4b2"),alt:`Hover view of ${r}`}),l&&e.jsx("span",{className:"absolute top-0 left-0 m-2 rounded-full bg-black px-2 text-center text-sm font-medium text-white",children:`${Math.round((o-c)/o*100)}% OFF`})]}),e.jsxs("div",{className:"mt-4 px-5 pb-5",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500",children:g.toUpperCase()}),e.jsx("h5",{className:"truncate text-xl tracking-tight text-slate-900",children:r})]}),e.jsx("p",{className:"mb-4 truncate text-sm text-gray-600",children:f}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{children:[e.jsxs("span",{className:"text-3xl font-bold text-slate-900",children:["$",h.toFixed(2)]}),i&&e.jsxs("span",{className:"ml-2 text-sm text-slate-900 line-through",children:["$",i.toFixed(2)]})]}),e.jsxs("button",{className:"flex items-center rounded-md bg-slate-900 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-gray-700 focus:ring-4 focus:ring-blue-300 focus:outline-none",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Add to cart"]})]})]})]})},y=t=>{const r=new FormData;return Object.entries(t).forEach(([s,a])=>{a!=null&&(Array.isArray(a)?a.forEach(o=>{r.append(`${s}[]`,o)}):r.append(s,a))}),r},P=t=>p("/products",{params:t}),$=t=>p(`/products/${t}`),A=t=>{const r=y(t);return w("/products",{data:r,isMultipart:!0,displaySuccess:!0})},D=(t,r)=>v(`/products/${t}`,{data:r,displaySuccess:!0}),E=t=>b(`/products/${t}`,{displaySuccess:!0}),F={getProducts:P,getProduct:$,createProduct:A,updateProduct:D,deleteProduct:E};function z(){const[t,r]=x.useState();return x.useEffect(()=>{F.getProducts({page:1,limit:10}).then(s=>{r(s.data),console.log("Products:",s.data)}).catch(s=>{console.error("Error fetching products:",s)})},[]),e.jsxs("div",{className:"container mx-auto bg-teal-800 px-10 py-3 text-center text-2xl font-bold",children:[e.jsx("h1",{children:"Testing One"}),e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:t==null?void 0:t.map(s=>e.jsx(N,{data:s}))})]})}export{z as default};
