import{d as x}from"./app-Cdmo_d00.js";import{t as d}from"./index-DSKZDLSw.js";import{C as D}from"./config-CcMCiyZX.js";const L=x.create({baseURL:`/api/${D.apiVersion}`,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json"},withCredentials:!0}),p=async(s,e,q={})=>{var u,g,h,y,w;const{data:f={},params:l={},headers:R={},displayError:m=!0,displaySuccess:b=!1,isMultipart:j=!1,onSuccess:c,onError:i}=q;try{const t={method:s,url:e,params:l,data:f,headers:{...R,...j?{"Content-Type":"multipart/form-data"}:{}}};s==="get"&&(t.params={...l,...f});const n=await L(t),{status:a,message:o,errors:r}=n.data;let C=((u=n.data)==null?void 0:u.data)??null;if(a!=="success")throw m&&d.error(r||o||"Something went wrong"),i==null||i(r),{message:o,errors:r};return b&&(r||o)&&d.success(r||o),c==null||c(C),C}catch(t){const n=((h=(g=t==null?void 0:t.response)==null?void 0:g.data)==null?void 0:h.message)||(t==null?void 0:t.message)||"Request failed",a=((w=(y=t==null?void 0:t.response)==null?void 0:y.data)==null?void 0:w.errors)||{};let o="";throw a&&a.length&&typeof a=="object"&&a.forEach(r=>{o+=r+`
`}),m&&d.error(o||n),i==null||i(a),{message:n,errors:a}}},T=(s,e)=>p("get",s,e),X=(s,e)=>p("post",s,e),A=(s,e)=>p("put",s,e),G=(s,e)=>p("delete",s,e);export{X as a,T as b,G as c,A as d};
